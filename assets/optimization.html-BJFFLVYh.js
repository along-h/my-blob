import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,o,a as t,e as c,f as p}from"./app-CaxZhZIt.js";const r={},s=t("p",null,"记录某次打包优化过程",-1),i=p('<h1 id="项目打包优化" tabindex="-1"><a class="header-anchor" href="#项目打包优化" aria-hidden="true">#</a> 项目打包优化</h1><p>1、警告：由于使用了 babel.config.js 中的 useBuiltIns但是没有指定版本会默认使用corejs@2，而packages中却安装了corejs@3，导致版本冲突，明确指定使用@3版本。</p><p>2、梳理依赖</p><p>发现存在着无作用的插件image-webapck-loader，与compression-webpack-plugin（服务器未开启gzip）</p><p>项目统一经过公司的bamboo CI/CD 进行打包，将package-lock.json 中被废弃的淘宝源改为公司私服，并上传私服中没有的包，并在流水线中设置公司私服nexus镜像</p><p>3、开启多线程：parallel</p><p>为 Babel 或 TypeScript 使用 <code>thread-loader</code>。该选项在系统的 CPU 有多于一个内核时自动启用，仅作用于生产构建</p><p>3、cache-loader配置</p><p>因为是CI/CD，每次CI/CD都是重新去拉代码进行打包，所以缓存无效，删除cache-loader配置</p><p>前后时间对比 9:00 -&gt; 7:30 减少约17%</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div>',11);function n(d,l){return o(),a("div",null,[s,c(" more "),i])}const _=e(r,[["render",n],["__file","optimization.html.vue"]]);export{_ as default};
